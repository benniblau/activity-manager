{# Reusable Jinja2 macros for templates #}

{# Sport type to Font Awesome icon mapping #}
{% macro sport_icon(sport_type) %}
{%- set sport_lower = sport_type|lower|replace(' ', '')|replace('-', '') -%}
{%- if sport_lower in ['run', 'virtualrun', 'trailrun'] -%}
<i class="fa-solid fa-person-running"></i>
{%- elif sport_lower in ['ride', 'virtualride', 'mountainbikeride', 'gravelride', 'ebikeride'] -%}
<i class="fa-solid fa-bicycle"></i>
{%- elif sport_lower == 'swim' -%}
<i class="fa-solid fa-person-swimming"></i>
{%- elif sport_lower == 'walk' -%}
<i class="fa-solid fa-person-walking"></i>
{%- elif sport_lower == 'hike' -%}
<i class="fa-solid fa-person-hiking"></i>
{%- elif sport_lower == 'weighttraining' -%}
<i class="fa-solid fa-dumbbell"></i>
{%- elif sport_lower == 'workout' -%}
<i class="fa-solid fa-heart-pulse"></i>
{%- elif sport_lower == 'yoga' -%}
<i class="fa-solid fa-spa"></i>
{%- elif sport_lower == 'crossfit' -%}
<i class="fa-solid fa-bolt"></i>
{%- elif sport_lower in ['rowing', 'rowindoor'] -%}
<i class="fa-solid fa-water"></i>
{%- elif sport_lower in ['elliptical', 'stairstepper'] -%}
<i class="fa-solid fa-stairs"></i>
{%- elif sport_lower == 'golf' -%}
<i class="fa-solid fa-golf-ball-tee"></i>
{%- elif sport_lower in ['tennis', 'pickleball'] -%}
<i class="fa-solid fa-table-tennis-paddle-ball"></i>
{%- elif sport_lower in ['alpineski', 'nordicski', 'backcountryski'] -%}
<i class="fa-solid fa-person-skiing"></i>
{%- elif sport_lower == 'snowboard' -%}
<i class="fa-solid fa-person-snowboarding"></i>
{%- elif sport_lower == 'iceskate' -%}
<i class="fa-solid fa-person-skating"></i>
{%- elif sport_lower == 'skateboard' -%}
<i class="fa-solid fa-person-skating"></i>
{%- elif sport_lower == 'surfing' -%}
<i class="fa-solid fa-water"></i>
{%- elif sport_lower == 'rockclimbing' -%}
<i class="fa-solid fa-mountain"></i>
{%- elif sport_lower == 'soccer' -%}
<i class="fa-solid fa-futbol"></i>
{%- elif sport_lower == 'basketball' -%}
<i class="fa-solid fa-basketball"></i>
{%- else -%}
<i class="fa-solid fa-person"></i>
{%- endif -%}
{% endmacro %}

{# Sport badge with icon - combines icon and text in a badge #}
{# Supports optional extended_type_name and extended_color_class for custom activity types #}
{% macro sport_badge(sport_type, extended_type_name=None, extended_color_class=None) %}
{%- if extended_type_name -%}
<span class="activity-badge badge {{ extended_color_class or ('badge-sport-' + sport_type|lower|replace(' ', '')|replace('-', '')) }}">{{ sport_icon(sport_type) }} {{ extended_type_name }}</span>
{%- else -%}
<span class="activity-badge badge badge-sport-{{ sport_type|lower|replace(' ', '')|replace('-', '') }}">{{ sport_icon(sport_type) }} {{ sport_type }}</span>
{%- endif -%}
{% endmacro %}

{# Pain level to Font Awesome face icon with color gradient (green to red) #}
{% macro pain_icon(level, size='md') %}
{%- if level is not none and level is defined -%}
{%- set size_class = 'fa-lg' if size == 'lg' else 'fa-sm' if size == 'sm' else '' -%}
{%- if level == 0 -%}
<i class="fa-solid fa-face-grin-beam {{ size_class }}" style="color: #10b981;" title="Level 0"></i>
{%- elif level == 1 -%}
<i class="fa-solid fa-face-smile-beam {{ size_class }}" style="color: #34d399;" title="Level 1"></i>
{%- elif level == 2 -%}
<i class="fa-solid fa-face-meh {{ size_class }}" style="color: #84cc16;" title="Level 2"></i>
{%- elif level == 3 -%}
<i class="fa-solid fa-face-frown-slight {{ size_class }}" style="color: #a3e635;" title="Level 3"></i>
{%- elif level == 4 -%}
<i class="fa-solid fa-face-worried {{ size_class }}" style="color: #eab308;" title="Level 4"></i>
{%- elif level == 5 -%}
<i class="fa-solid fa-face-frown-open {{ size_class }}" style="color: #f59e0b;" title="Level 5"></i>
{%- elif level == 6 -%}
<i class="fa-solid fa-face-grimace {{ size_class }}" style="color: #f97316;" title="Level 6"></i>
{%- elif level == 7 -%}
<i class="fa-solid fa-face-sad-cry {{ size_class }}" style="color: #ea580c;" title="Level 7"></i>
{%- elif level == 8 -%}
<i class="fa-solid fa-face-confounded {{ size_class }}" style="color: #ef4444;" title="Level 8"></i>
{%- elif level == 9 -%}
<i class="fa-solid fa-face-weary {{ size_class }}" style="color: #dc2626;" title="Level 9"></i>
{%- elif level == 10 -%}
<i class="fa-solid fa-face-dizzy {{ size_class }}" style="color: #b91c1c;" title="Level 10"></i>
{%- else -%}
<i class="fa-solid fa-face-meh {{ size_class }}" style="color: #6b7280;" title="Unknown"></i>
{%- endif -%}
{%- else -%}
<span class="text-muted">-</span>
{%- endif -%}
{% endmacro %}
