# Main Configuration
# HOST is the full base URL of your application (used for Strava OAuth callback)
# Development: http://localhost:5000
# Production: https://your-domain.com (must match Strava app's callback URL)
HOST=http://localhost:5000

# Flask Configuration
FLASK_APP=run.py
FLASK_ENV=development
SECRET_KEY=your-secret-key-here

# Session Configuration
# SESSION_LIFETIME: Session timeout in seconds (default: 86400 = 24 hours)
SESSION_LIFETIME=86400
# REMEMBER_ME_DURATION: Remember me duration in seconds (default: 2592000 = 30 days)
REMEMBER_ME_DURATION=2592000

# Database
# DATABASE_PATH defaults to activities.db in project root
# Uncomment to override:
# DATABASE_PATH=activities.db

# Strava API Credentials
# Get these from https://www.strava.com/settings/api
STRAVA_CLIENT_ID=your-client-id-here
STRAVA_CLIENT_SECRET=your-client-secret-here
STRAVA_ACCESS_TOKEN=your-access-token-here
STRAVA_REFRESH_TOKEN=your-refresh-token-here

# Optional: Override the callback URL directly (defaults to {HOST}/auth/strava/callback)
# STRAVA_REDIRECT_URI=https://your-domain.com/auth/strava/callback

# Email Configuration (for coach invitations and notifications)
# Leave blank to disable email notifications
# NOTE: Many SMTP providers (including ProtonMail) require FROM_EMAIL to match SMTP_USERNAME
SMTP_SERVER=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=your-email@example.com
SMTP_PASSWORD=your-smtp-password
FROM_EMAIL=your-email@example.com

# Invitation Configuration
# Number of days before an invitation link expires
INVITATION_EXPIRY_DAYS=30

# MCP Server (AI Agent Integration)
# ── Standalone MCP server process (activity-manager-mcp.service) ──────────
# Transport: 'streamable-http' (default for HTTP), 'sse' (legacy), or 'stdio'
# MCP_TRANSPORT=streamable-http
# MCP_HOST=127.0.0.1
# MCP_PORT=8001
# Externally-accessible base URL of the Flask app (used in auth discovery
# headers and /.well-known/ metadata served via the Flask proxy).
# Must be set in production — defaults to http://{MCP_HOST}:{MCP_PORT}.
# MCP_BASE_URL=https://your-domain.com
#
# ── Flask proxy (routes /mcp → MCP server) ───────────────────────────────
# Address of the MCP server as seen by the Flask app.
# Must match MCP_HOST and MCP_PORT above.
# MCP_UPSTREAM_URL=http://127.0.0.1:8001
#
# ── stdio mode only (Claude Desktop / Claude Code subprocess) ─────────────
# API key created via Profile → API Keys in the web UI.
# Not needed in streamable-http or sse mode (clients send the key per-request).
# AM_API_KEY=am_your_key_here
